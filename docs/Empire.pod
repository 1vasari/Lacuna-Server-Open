=head1 Empire Methods

The following methods are available from C</empire>.

=head2 is_name_available ( name ) 

Returns a 1 if the name is available, or a 0 if it is not.

=head3 name

The name of the empire to search for.



=head2 logout ( session_id )

Ends a session. Returns 1.

Throws 1006.

=head3 session_id

A session id.



=head2 login ( name, password )

Returns a hash like the following after confirming the password matches the empire.

 {
    "session_id" : "xxx",
    "status" : { get_full_status() }
 }

Throws 1004 and 1005.

=head3 name

The name of the empire.

=head3 password

The password to authenticate to the empire.



=head2 create ( params ) 

Creates a new empire and then returns a hash reference with a session and an empire_id.

 {
    "empire_id"  : "6ba7b810-9dad-11d1-80b4-00c04fd430c8",
    "session_id" : "7ba7b80d-91d1-b0b3-1111-10c04fd430cd",
    "status" : { get_full_status() }
 }

Throws 1000, 1001, 1002.

=head3 params

A hash of parameters.

=head4 name

The name of the empire to create. Required.

=head4 password

The password to log in to the empire. Required.

=head4 password1

Retyping the password again. This must match C<password> to succeed.

=head4 species_id

The id of the species that rules this empire. Defaults to 'human_species' (Human).



=head2 get_status ( session_id )

Fetches the empire's status hash that is returned with many methods, but performs no other operations than to get the status.

 {
    "server" : {
        "time" : "01 31 2010 13:09:05 +0600"
    },
    "empire" : {
        "has_new_messages" : 3,
	"full_status_update_required" : 1,
        "essentia" : 0,
        "happiness_hour" : 450,
        "happiness" : 119393
    }
 }

The C<server> section tells you about the status of the server. The C<empire> section tells you about the status of the logged in empire.

The C<full_status_update_required> element lets you know that the client data is out of date, and need to be fetched again with a call to C<get_full_status>.

Throws 1002.

=head3 session_id

A session id.



=head2 get_full_status ( session_id )

Fetches the empire's status hash that is returned with many methods, but performs no other operations than to get the status.

 {
    "server" : {
        "time" : "01 31 2010 13:09:05 +0600"
    },
    "empire" : {
        "id" : "xxxx",
        "name" : "The Syndicate",
        "home_planet_id" : "yyyy",
        "essentia" : 0,
        "happiness" : 119393
        "planets" : {
            "id-goes-here" : {
                "id" : "id-goes-here",
                "x" : -4,
                "y" : 10,
                "z" : 6,
                "star_id" : "id-goes-here",
                "orbit" : 3,
                "type" : "habitable planet",
                "name" : "Earth",
                "image" : "p13",
                "size" : 67,
                "water" : 900,
                "ore" : {
                    "gold" : 3399,
                    "bauxite" : 4000,
                    ...
                },
                "building_count" : 7,
                "happiness" : 3939,
                "happiness_hour" : 25,
                "food_stored" : 33329,
                "food_capacity" : 40000,
                "food_hour" : 229,
                "energy_stored" : 39931,
                "energy_capacity" : 43000,
                "energy_hour" : 391,
                "ore_hour" 284,
                "ore_capacity" 35000,
                "ore_stored" 1901,
                "waste_hour" : 933,
                "waste_stored" : 9933,
                "waste_capacity" : 13000,
                "water_stored" : 9929,
                "water_hour" : 295,
                "water_capacity" : 51050,
            },
            "another-id-goes-here" : {
                ...
            }
        }
    }
 }

The C<server> section tells you about the status of the server. The C<empire> section tells you about the status of the logged in empire.

In the C<empire> section there is a list of the empires planets, and the resources they are producing. Each resource has a C<_hour>, C<_stored>, and C<_capacity> except for happiness, which is missing C<_stored> because you can have an infinite amount of happiness. The C<_hour> elements refer the the amount of that resource that is produced by this planet per hour. The C<_stored> element refers to how much of the resource the planet has available right now. The C<_capacity> element refers to how much of the resource the planet can store at maximum. 

Throws 1002.

=head3 session_id

A session id.

=cut
